from pathlib import Path
import re
BINARY_PATH = Path('AwesomeCleaner.app/Contents/MacOS/AwesomeCleaner')
KEY_EVEN = 0x41
KEY_ODD = 0x20
CONFIG_START = 0x1CD90
CONFIG_END = 0x1D1F0

data = BINARY_PATH.read_bytes()[CONFIG_START:CONFIG_END]
decoded = bytearray()
for idx, byte in enumerate(data):
    key = KEY_EVEN if idx % 2 == 0 else KEY_ODD
    decoded.append(byte ^ key)
text = decoded.decode('ascii', errors='ignore')
print('RAW TEXT')
print(text)
print('\nTOKENS >=4 letters:')
for match in re.findall(r'[A-Za-z]{4,}', text):
    print(match)
